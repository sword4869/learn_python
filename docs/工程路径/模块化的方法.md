

# 模块化的方法

```bash
topLevel
└── project
    ├── main.py
    ├── src
    │   ├── mod1
    │   │   └── mod1_main.py
    │   └── mod2
    │       └── mod2_main.py
    ├── mytest
    │   └── a.py
    └── data
        └── deepwater.jpg

建立一个顶级目录
```

```bash
# The `-m` tells Python to load it as a module, not as the top-level script.
# 这时候执行路径，必须是项目根目录的父目录下
topLevel$ python -m project.main
topLevel$ python -m project.mytest.a
```
- `main.py`
  ```python
  from project.src.mod1.mod1_main import call

  call()
  ```
- `mod1_main.py`
  ```python
  from project.src.mod2.mod2_main import show
  # from ..mod2.mod2_main import show

  def call():
      show()
  ```
- `mod2_main.py`
  ```python
  from PIL import Image
  import os

  def show():
      # 图片的引入
      BASE_DIR = os.path.abspath(os.path.join(__file__, '..', '..', '..'))
      img_path = os.path.join(BASE_DIR, r'data\deepwater.jpg')

      img = Image.open(img_path)
      img.show()
  ```

- `a.py`
  ```python
  from .. import main

  main()
  ```